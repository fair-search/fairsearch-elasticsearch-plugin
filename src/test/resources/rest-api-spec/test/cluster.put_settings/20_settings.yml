---
"Test on few protected elements settings":
  - do:
      catch: bad_request
      cluster.put_settings:
        body:
          transient:
            fairsearch.on_few_protected_elements: "break"
  - do:
      cluster.put_settings:
        body:
          transient:
            fairsearch.on_few_protected_elements: "abort"
  - do:
      cluster.get_settings:
        flat_settings: true

  - match:
      transient:
        fairsearch.on_few_protected_elements: "abort"
  - do:
      cluster.put_settings:
        body:
          transient:
            fairsearch.on_few_protected_elements: null
        flat_settings: true
---
"Test proportion strategy settings":
  - do:
      catch: bad_request
      cluster.put_settings:
        body:
          transient:
            fairsearch.proportion_strategy: "break"
  - do:
      cluster.put_settings:
        body:
          transient:
            fairsearch.proportion_strategy: "fixed"
  - do:
      cluster.get_settings:
        flat_settings: true

  - match:
      transient:
        fairsearch.proportion_strategy: "fixed"
  - do:
      cluster.put_settings:
        body:
          transient:
            fairsearch.proportion_strategy: null
        flat_settings: true
